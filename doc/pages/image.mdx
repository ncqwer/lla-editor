# Audio（图片）

## 介绍

音频提供本地音频的上传&在线音频的播放功能。

## Install

```bash
yarn add @lla-edtior/audio
```

```tsx
import AudioImpl from '@lla-editor/audio';
import { PluginProvider, ParagraphImpl } from '@lla-editor/core';

//add AudioImpl to lla plugin array

<PluginProvider avaliablePlugins={[AudioImpl, ParagraphImpl]}></PluginProvider>;
```

## UI

音频组件按照是否持有音频来呈现不同界面。

当节点不持有音频文件时：

![空白音频](/audio_empty.png)

此时点击唤起设置菜单，来配置音频文件

![音频菜单](/audio_menu.png)

从而得到：

![音频组件](/audio.png)

## Config

```ts
interface AudioConfig {
  audioOpen: () => Promise<string>; // 获取本地音频的异步函数
  audioRemove: (src: string) => Promise<void>; // 在音频节点从文档流删除时的回调函数
  audioSign: (src: string) => Promise<string>; // 音频文件加签的方法
  loadingCover: string; // 加载时的占位图片
  errorCover: string; // 出错时的占位图片
}
```

配置方式：配置`<ShareProvider/>`时`initialValue`属性的`audio`字段时配置即：

```ts
{
  audio: AudioConfig;
}
```
